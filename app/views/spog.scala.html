@import play.mvc.Http.Request
@import helper._
@import viewModels._
@(spogVm: Spog)(implicit request: Http.Request)
@main("MonMonIncomings") {
<script
        type="text/javascript"
        src='@routes.Assets.at("javascripts/index.js")'
></script>

@partials.header()
@partials.navbar()

<div class="w3-content" style="max-width: 1500px">
    <div class="w3-row">
        <div class="w3-half w3-padding w3-center">
            <div class="w3-card w3-padding w3-margin">
                <p><b> SPOG stands for 'Single Pane of Glass'</b></p>
                <hr>
                <p>
                    <b>
                        Left per day after outgoings in DEBIT: £@spogVm.getAdjustedLeftPerDay()
                    </b>
                </p>
                <p>Surplus pcm: £@spogVm.getSurplus()</p>
                <p>Already paid out: £@spogVm.getCompletedOutgoings()</p>
                <p>Left to pay out: £@spogVm.getPendingOutgoings()</p>
                <hr>
                <p>
                     - This month, there are @spogVm.getDaysBetweenPaydays days between paydays <br/>
                     - MAX per day available (between paydays) -> £@spogVm.getMaxPerDay()<br/>
                     - MAX per week available -> £@spogVm.getMaxPerWeek() <br/>
                     - yearly takehome -> £@spogVm.getYearlyTakehome()  <br/>
                     - yearly outgoings -> £@spogVm.getYearlyOutgoings()  <br/>
                     - yearly surplus (how much left to live on) -> £@spogVm.getYearlySurplus() <br/>
                     - rent as % of wages -> @spogVm.getPercentageIncomeAsRent()% <br/>
                    But, for now, show income - outgoings (i.e. £@spogVm.getSurplus()) <br/>
                </p>
            </div>
            <div class="w3-card w3-padding w3-margin">
                <p>Next payday: <span id="next-payday-ddmmyyyy">@spogVm.getNextPayDate()</span></p>
                <p>That is, <span id="next-pay-days-from-now">@spogVm.getDaysUntilNextPayday()</span> days away</p>
                <p>Savings Slider</p>
                <div class="slidecontainer">
                    <input type="range" min="0" max="100" value="@spogVm.getPercentageIncomeAsSavings()" class="slider" id="savings-slider">
                </div>
                <p>
                    <span id="savings-slider-val">@spogVm.getPercentageIncomeAsSavings()</span>% of income as savings + payoff pcm
                </p>
                <p>
                    That is, <span id="savings-amount"></span> of £<span id="incoming-total">@spogVm.getIncomingTotal()</span>
                </p>
            </div>
        </div>
        <div class="w3-half w3-padding">
            <div class="w3-card w3-padding w3-margin">
                <p><b>Account Overview</b></p>
                <ul>
                    @for((a, sum) <- spogVm.getAllAccounts()) {
                    <li>@a.name (@{a.`type`})
                        <ul>
                            <li>
                                £@sum.getAlreadyPaid() already gone out
                            </li>
                            <li>
                                £@sum.getPending() still needed
                            </li>
                            <li>
                                £@sum.getLatestBalance() available
                            </li>
                            <li>
                                <b>
                                    £@sum.getAdjustedAvailable() is what you <i>actually</i> have left
                                </b>
                            </li>
                        </ul>
                        <hr>
                    </li>
                    }
                </ul>
            </div>
        </div>
    </div>
</div>

}